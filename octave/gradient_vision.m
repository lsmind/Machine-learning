format long;
%X = [1 0.001705611;1 0.001691189;1 0.001677008;1 0.001663063;1 0.001649349;1 0.001635858;1 0.001622586]
%y = [10.10770301;10.27726232;10.45728766;10.64216024;10.83818786;11.03265181;11.21712622]
x=[0.5;1;1.5;2;3]
y=[1;2;3;4;6]


a = 0.03
t=[100;20];

X=[max(ones(size(x,1)))',x]
for i=0:50
    h=X*t;
    j = (1/size(y,2)).*[sum((h-y).*X(:,1)); sum((h-y)'*X(:,2))]
    t -= a.*j;

    x1=[min(x);max(x)];
    y1=x1.*t(2,:)+t(1,:);
    plot(x1,y1,'r')
    hold on
    plot(X(:,2),y,'p')
    hold off
    pause(0.2)
end;
    j = sum((h-y).*(h-y),1)
    t

